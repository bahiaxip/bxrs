<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-button (click)="dismiss()">
        <ion-icon name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title class="title">NUEVO MENSAJE</ion-title>
  </ion-toolbar>
</ion-header>
<div>
  <form [formGroup] ="formAddMessage" (ngSubmit)="onSubmit()" >
    <ion-item>
      <ion-label>Enviar a:</ion-label>
      <ion-select interface="alert" cancelText="Cancelar" okText="OK" formControlName="receiver">
        <ion-select-option *ngFor="let user of users" [value]="user">{{user.nick}}</ion-select-option>
      </ion-select>
    </ion-item>

    <ion-card>
      <ion-card-header>
        <ion-card-title>
          Mensajes
        </ion-card-title>

        <ion-card-content>
          <mat-form-field style="width:100%">
            <mat-label>Escribe aqu√≠ tu mensaje</mat-label>
            <textarea matInput [placeholder]="data" rows="5" cols="10" name="text" formControlName="text">
            </textarea>

            <mat-hint *ngIf="!formAddMessage.controls.text.value && formAddMessage.controls.text.touched;else hint" style="color:red">Debe introducir un texto</mat-hint>
            <ng-template #hint>
              <mat-hint>Mensaje</mat-hint>
            </ng-template>
          </mat-form-field>
          <ion-row>
            <ion-col>
              <button mat-raised-button color="primary" type="submit" [disabled]="!formAddMessage.valid">Enviar</button>
            </ion-col>
            <!--<ion-col>
              <ion-button (click)="fileButton.click()"  style="position:absolute;bottom:10px;right:10px;">
                <ion-icon name="image"></ion-icon>
              </ion-button>
              <input name="imagemessage" #fileButton type="file" (change)="fileChangeEvent($event)"  style="width: 0;height:"/>
            </ion-col>-->
          </ion-row>
        </ion-card-content>
      </ion-card-header>
    </ion-card>
  </form>
</div>
